{% extends "base.html" %}

{% block include_datatable %}
{% include "datatable.html" %}
{% endblock %}

{% block content %}    
<div style="margin-left:5%;margin-right:5%">
    <div class="padding-20">
        <div class="row">
            <div class="col-md-2">
                    <h3>{% block title %}검증로그{% endblock %}</h3>
            </div>
            <div class="col-md-8">                
                <!-- Search Bar -->
                <form class="navbar-form navbar-left" role="search" method=GET>
                        <div class="form-group">
                            <label for="검증번호">검증번호:</label>
                            <input type="text" class="form-control" placeholder="Search" name=qry id=qry value="{{gets.qry}}" >
                        </div>
                        <button type="submit" class="btn btn-default">조회</button>
                </form>
            </div>       
        </div>
    </div>
    <div id="content" class="padding-20">
        <!-- HTML DATATABLE -->
        <table class="table table-striped table-hover table-bordered" id="example">
            <thead>
                <tr>
                    <th>ID</th>                
                    <th>검증번호</th>                                   
                    <th>검증명</th>                                   
                    <th>명령유형코드</th>
                    <th>수행결과</th>
                    <th>명령내용</th>
                    <!--th>등록자아이디</th-->
                    <!--th>등록일시</th-->
                    <th>수정자아이디</th>
                    <th>수정일시</th>
                    <!--th class="hideTechDetail"></th-->
                </tr>
            </thead>
            <tbody>
                {% for row in object_list %}
                <tr>
                    <td>{{ row.VRFY_LOG_NO }}</td>
                    <td>{{ row.VRFY_NO }}</td>
                    <td>{{ row.VRFY_NM }}</td>                                    
                    <td>{{ row.CMD_TYPE_CD }}</td>
                    <td>{{ row.VRFY_RSLT_VAL }}</td>
                    <td>{{ row.CMD_CNTS|safe }}</td>                    
                    <!--td>{# row.RGSTR_ID #}</td-->
                    <!--td>{# row.RGST_DTTM|date:'Y-m-d'  #}</td-->                
                    <td>{{ row.MODR_ID }}</td>
                    <td>{{ row.MODI_DTTM|date:'Y-m-d'  }}</td>  
                    <!--td class="hideTechDetail">{% csrf_token %}</td-->
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<script type="text/javascript" class="init">
    $(document).ready(function() {
        $('#example').DataTable( {          
            dom: 'Bfrtpi', //lBfrtpi
                buttons: [
                    'copy', 'csv', 'excel', 'pdf', 'print'
                ],
            "columns": [
                { "width": "5%" },
                { "width": "10%" },
                { "width": "10%" },
                { "width": "10%" },
                { "width": "10%" },
                { "width": "30%" },
                { "width": "5%" },
                { "width": "10%" }
            ],                  
            "lengthMenu": [
                [5, 15, 20, -1],
                [5, 15, 20, "All"]
            ],
            "pageLength": 15,    
            "columnDefs": [{
                "targets": [0],
                "searchable": false,
                "visible": true,
                "width": "20%"
            }, {
                "targets": [ 1 ],
                "searchable": false,
                "visible": true,
            }],                   
            "paging":   true,
            "ordering" : true,
            "order": [[ 0, "desc" ]],
            "info":     true
        } );
    } );
</script>
{% endblock content %}