
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="ko">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Welcome to metax&#39;s documentation! &#8212; metax 0.8.28 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <link rel="index" title="색인" href="genindex.html" />
    <link rel="search" title="검색" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="welcome-to-metax-s-documentation">
<h1>Welcome to metax's documentation!<a class="headerlink" href="#welcome-to-metax-s-documentation" title="제목 주소">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="module-mysite">
<span id="meta-express-main"></span><h1>Meta-eXpress main<a class="headerlink" href="#module-mysite" title="제목 주소">¶</a></h1>
<p>Meta-eXpress(메타익스프레스)
Data Architecture 메터 정보 관리
:copyright: (c) 2018, wonseokyou
:license: Lotte B2 &amp; Wizbase Domain.</p>
</div>
<div class="section" id="module-dq.apps">
<span id="dq-main"></span><h1>DQ main<a class="headerlink" href="#module-dq.apps" title="제목 주소">¶</a></h1>
<div class="section" id="apps-py">
<h2>apps.py<a class="headerlink" href="#apps-py" title="제목 주소">¶</a></h2>
<p>The core module of my example project</p>
<dl class="class">
<dt id="dq.apps.DqConfig">
<em class="property">class </em><code class="descclassname">dq.apps.</code><code class="descname">DqConfig</code><span class="sig-paren">(</span><em>app_name</em>, <em>app_module</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/apps.html#DqConfig"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.apps.DqConfig" title="정의 주소">¶</a></dt>
<dd><p>An example docstring for a class definition.</p>
</dd></dl>

<dl class="function">
<dt id="dq.apps.about_me">
<code class="descclassname">dq.apps.</code><code class="descname">about_me</code><span class="sig-paren">(</span><em>your_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/apps.html#about_me"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.apps.about_me" title="정의 주소">¶</a></dt>
<dd><p>Return the most important thing about a person.</p>
</dd></dl>

</div>
</div>
<div class="section" id="module-dq.dbMysql">
<span id="dq-mysql-connect"></span><h1>DQ Mysql Connect<a class="headerlink" href="#module-dq.dbMysql" title="제목 주소">¶</a></h1>
<div class="section" id="mod-mysql">
<h2>:mod: Mysql 관련  모듈<a class="headerlink" href="#mod-mysql" title="제목 주소">¶</a></h2>
<div class="section" id="id1">
<h3>설명<a class="headerlink" href="#id1" title="제목 주소">¶</a></h3>
<p>Mysql을 터널링을 통하여 접속하고 수행할 수 있도록함.</p>
</div>
<div class="section" id="id2">
<h3>참고<a class="headerlink" href="#id2" title="제목 주소">¶</a></h3>
<dl class="docutils">
<dt>관련 링크:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://10.131.81.103:8001/dq/vrfys">http://10.131.81.103:8001/dq/vrfys</a></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="id3">
<h3>관련 작업자<a class="headerlink" href="#id3" title="제목 주소">¶</a></h3>
<blockquote>
<div><ul class="simple">
<li>유원석 (Wonseok You)</li>
</ul>
</div></blockquote>
<div class="section" id="id4">
<h4>작업일지<a class="headerlink" href="#id4" title="제목 주소">¶</a></h4>
<blockquote>
<div><ul class="simple">
<li>2018.08.01 wsyou : 초기함수 정의</li>
</ul>
</div></blockquote>
<dl class="class">
<dt id="dq.dbMysql.Conn">
<em class="property">class </em><code class="descclassname">dq.dbMysql.</code><code class="descname">Conn</code><span class="sig-paren">(</span><em>db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Conn"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Conn" title="정의 주소">¶</a></dt>
<dd><p>Mysql Connection관리 
pymysql 모듈을 사용하여 mysql 커넥션을 관리함.
예제 :</p>
<blockquote>
<div>conn = Conn(p_db_nm)
conn.ssh.start()
conn.sshDbConn()
conn.param_replace = False  # SQL STRING % 관련해서 무시함. 
conn.curType = 'list'       # 'list', 'dict' 중에 sql resultset을 list형태로 return함 
...   
sql2 = &quot;SELECT ...&quot; 
rows2 = conn.execute(sql2,{'tbl_nm' : tbl_nm , 'cpy_nm' : cpy_nm })
...
conn.close()</div></blockquote>
<dl class="method">
<dt id="dq.dbMysql.Conn.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Conn.close"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Conn.close" title="정의 주소">¶</a></dt>
<dd><p>DB Connection을 끊고 ssh터널링이 있을경우 해당 자원을 해제함.</p>
</dd></dl>

<dl class="method">
<dt id="dq.dbMysql.Conn.commit">
<code class="descname">commit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Conn.commit"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Conn.commit" title="정의 주소">¶</a></dt>
<dd><p>commit명령을 수행함.</p>
</dd></dl>

<dl class="method">
<dt id="dq.dbMysql.Conn.dbConn">
<code class="descname">dbConn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Conn.dbConn"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Conn.dbConn" title="정의 주소">¶</a></dt>
<dd><p>ssh 터널링 없이 일반적인 db접속을 수행함.
:returns: 정상 수행시 True</p>
</dd></dl>

<dl class="method">
<dt id="dq.dbMysql.Conn.execute">
<code class="descname">execute</code><span class="sig-paren">(</span><em>sql</em>, <em>sql_params={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Conn.execute"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Conn.execute" title="정의 주소">¶</a></dt>
<dd><p>sql을 수행하고 resultset을 list or dict형태로 return함 
:returns: 정상수행시 resultset, 오류시 None</p>
</dd></dl>

<dl class="method">
<dt id="dq.dbMysql.Conn.select_db">
<code class="descname">select_db</code><span class="sig-paren">(</span><em>schema</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Conn.select_db"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Conn.select_db" title="정의 주소">¶</a></dt>
<dd><p>Mysql에서 database를 선택함.</p>
</dd></dl>

<dl class="method">
<dt id="dq.dbMysql.Conn.sshDbConn">
<code class="descname">sshDbConn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Conn.sshDbConn"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Conn.sshDbConn" title="정의 주소">¶</a></dt>
<dd><p>ssh 터널링을 이용하여 db접속을 수행함.
:returns: 정상 수행시 True</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="dq.dbMysql.Ssh">
<em class="property">class </em><code class="descclassname">dq.dbMysql.</code><code class="descname">Ssh</code><span class="sig-paren">(</span><em>db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Ssh"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Ssh" title="정의 주소">¶</a></dt>
<dd><p>SSH 터널링 관리 클래스    
sshtunnel 모듈을 사용하여 터널링관리하는 클래스
예제 :</p>
<blockquote>
<div>ssh = Ssh(db)
ssh.start()
...
ssh.stop()</div></blockquote>
<dl class="method">
<dt id="dq.dbMysql.Ssh.MakeTunnel">
<code class="descname">MakeTunnel</code><span class="sig-paren">(</span><em>bastion_ip</em>, <em>bastion_user</em>, <em>bastion_pwd</em>, <em>endpoint</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Ssh.MakeTunnel"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Ssh.MakeTunnel" title="정의 주소">¶</a></dt>
<dd><p>바스쳔 서버를 통해서 SSH 터널을 생성하고 그 값을 돌려줍니다.
:param string bastion_ip: 바스천서버 IP
:param string bastion_user: 바스천서버 사용자계정
:param string bastion_pwd: 바스천서버 사용자 패스워드        
:returns: 바스천서버접속을 통한 SSH 터널을 return 합니다.</p>
</dd></dl>

<dl class="method">
<dt id="dq.dbMysql.Ssh.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Ssh.start"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Ssh.start" title="정의 주소">¶</a></dt>
<dd><p>바스천 서버를 통한 SSH 터닐링를 수행합니다.
:returns: 정상 수행시 True , 오류시 False.</p>
</dd></dl>

<dl class="method">
<dt id="dq.dbMysql.Ssh.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#Ssh.stop"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.Ssh.stop" title="정의 주소">¶</a></dt>
<dd><p>바스천 서버를 통한 SSH 터닐링를 종료합니다.
:returns: 정상 수행시 True</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="dq.dbMysql.get_db_sch_nm">
<code class="descclassname">dq.dbMysql.</code><code class="descname">get_db_sch_nm</code><span class="sig-paren">(</span><em>p_db_nm</em>, <em>p_sch_nm</em>, <em>env='dev'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/dq/dbMysql.html#get_db_sch_nm"><span class="viewcode-link">[소스]</span></a><a class="headerlink" href="#dq.dbMysql.get_db_sch_nm" title="정의 주소">¶</a></dt>
<dd><p>스키마명으로 통해서 해당 db접속 서버명을 가져옴.
:Todo: 향후 별도 파일이나 메터 관리로 분리 고려
:returns: 정상수행시 (db명,스카마명)</p>
</dd></dl>

</div>
</div>
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="제목 주소">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">색인</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">모듈 목록</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">검색 페이지</span></a></li>
</ul>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">metax</a></h1>








<h3>탐색</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>빠른 검색</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="바로 가기" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Wonseok You.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.7</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.11</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>